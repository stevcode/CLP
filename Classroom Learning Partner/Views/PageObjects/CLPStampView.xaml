<catel:UserControl x:Class="Classroom_Learning_Partner.Views.CLPStampView"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:ac="clr-namespace:AdornedControl;assembly=AdornedControl"
				   xmlns:catel="http://catel.codeplex.com"
                   xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                   xmlns:Views="clr-namespace:Classroom_Learning_Partner.Views"
                   xmlns:conv="clr-namespace:Classroom_Learning_Partner.Resources">
    <UserControl.Resources>
        <conv:LengthConverter x:Key="LengthConverter"/>
    </UserControl.Resources>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Thumb>
                <Thumb.Template>
                    <ControlTemplate>
                        <Polygon x:Name="PageObjectHit" Tag="0"  Grid.Row="0" Width="{Binding Width}" MinWidth="50"  Height="{Binding PageObject.HANDLE_HEIGHT}" Stretch="Fill"
                                  Stroke="Black" StrokeThickness="0" Fill="Black" MouseEnter="PageObjectHitBox_MouseEnter" MouseLeave="PageObjectHitBox_MouseLeave"
                                  Points="0,0 3,0 2,1 1,1" HorizontalAlignment="Center" VerticalAlignment="Bottom"  Margin="0">
                        </Polygon>
                    </ControlTemplate>
                </Thumb.Template>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="PreviewMouseDown">
                        <catel:EventToCommand Command="{Binding Path=CopyStampCommand}"/>
                    </i:EventTrigger>
                    <i:EventTrigger EventName="PreviewMouseUp">
                        <catel:EventToCommand Command="{Binding Path=PlaceStampCommand}"/>
                    </i:EventTrigger>
                    <i:EventTrigger EventName="DragDelta">
                        <catel:EventToCommand Command="{Binding Path=DragStampCommand}" PassEventArgsToCommand="True"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </Thumb>
            <Border Grid.Row="1" BorderBrush="Black" BorderThickness="2"
                    Width="{Binding Width, Mode=TwoWay}" 
                    Height="{Binding StrokePathContainer.Height, Mode=TwoWay}" 
                    VerticalAlignment="Top" Margin="0">
                <Views:CLPStrokePathContainerView DataContext="{Binding StrokePathContainer}" Width="{Binding Width, Mode=TwoWay}" Height="{Binding Height, Mode=TwoWay}" />
            </Border>
        </Grid>

</catel:UserControl>
