<catel:UserControl x:Class="Classroom_Learning_Partner.Views.CLPPageView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vw="clr-namespace:Classroom_Learning_Partner.Views"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             xmlns:catel="http://catel.codeplex.com"
             xmlns:vm="clr-namespace:Classroom_Learning_Partner.ViewModels"
             xmlns:vwpo="clr-namespace:Classroom_Learning_Partner.Views.PageObjects">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Resources/CLPPageResources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Name="RootGrid" Background="Transparent">
        <Viewbox>
            <Border HorizontalAlignment="Stretch" VerticalAlignment="Stretch" BorderThickness="2,2,2,2" CornerRadius="5" BorderBrush="Black" Background="White">
                <Canvas Width="1056" Height="816" Background="Transparent" x:Name="TopCanvas" PreviewMouseMove="TopCanvas_PreviewMouseMove" 
                                                                                                PreviewMouseLeftButtonDown="TopCanvas_PreviewMouseLeftButtonDown"
                                                                                                PreviewMouseLeftButtonUp="TopCanvas_PreviewMouseLeftButtonUp">
                    <ItemsControl x:Name="PageObjects"
                                  ItemsSource="{Binding Path=PageObjects}"
                                  ItemsPanel="{StaticResource PanelTemplate}"
                                  ItemContainerStyle="{StaticResource ContainerStyle}"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  >
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <vwpo:PageObjectContainerView DataContext="{Binding}" />
                            </DataTemplate>  
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <InkPresenter Width="1056" Height="816" x:Name="OtherInkPresenter" Strokes="{Binding Path=OtherStrokes}" />
                    <InkCanvas Width="1056" Height="816" x:Name="MainInkCanvas"
                               Background="Transparent" 
                               Strokes="{Binding Path=InkStrokes}"
                               EditingMode="{Binding Path=EditingMode}"
                               EditingModeInverted="EraseByStroke"
                               DefaultDrawingAttributes="{Binding Path=DefaultDA}">
                    </InkCanvas>
                </Canvas>
            </Border>
        </Viewbox>

        <StackPanel  Height="40" HorizontalAlignment="Left" Orientation="Horizontal" VerticalAlignment="Bottom" Visibility="{Binding Path=PlaybackControlsVisibility}">
            <Button Name="Play" HorizontalAlignment="Left" Command="{Binding Path=StartPlaybackCommand}">
                <Image Source="{Binding Path=PlaybackImage}"></Image>
            </Button>
            <Button Name="Stop" HorizontalAlignment="Right" Command="{Binding Path=StopPlaybackCommand}">
                <Image Source="..\Images\stop.png"></Image>
            </Button>
        </StackPanel>

    </Grid>
</catel:UserControl>
